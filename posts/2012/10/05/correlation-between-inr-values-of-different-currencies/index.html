<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Correlation between INR values of different currencies  &middot; TUTYSARA&#39;S SPACE</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="" />

<meta name="keywords" content="data, clojure, ">

<link rel="author" href="http://plus.google.com/+tutysara">


<meta property="og:title" content="Correlation between INR values of different currencies  &middot; TUTYSARA&#39;S SPACE ">
<meta property="og:site_name" content="TUTYSARA&#39;S SPACE"/>
<meta property="og:url" content="http://www.tutysara.net/posts/2012/10/05/correlation-between-inr-values-of-different-currencies/" />
<meta property="og:locale" content="en-EN">


<meta property="og:type" content="article" />
<meta property="og:description" content=""/>
<meta property="og:article:published_time" content="2012-10-05T11:16:00Z" />
<meta property="og:article:modified_time" content="2012-10-05T11:16:00Z" />

  
    
<meta property="og:article:tag" content="data">
    
<meta property="og:article:tag" content="clojure">
    
  

  
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@tutysara" />
<meta name="twitter:creator" content="@tutysara" />
<meta name="twitter:title" content="Correlation between INR values of different currencies" />
<meta name="twitter:description" content="" />
<meta name="twitter:url" content="http://www.tutysara.net/posts/2012/10/05/correlation-between-inr-values-of-different-currencies/" />
<meta name="twitter:domain" content="http://www.tutysara.net/">
  

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "Correlation between INR values of different currencies",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+tutysara?rel=author"
    },
    "datePublished": "2012-10-05",
    "description": "",
    "wordCount":  391 
  }
</script>



<link rel="canonical" href="http://www.tutysara.net/posts/2012/10/05/correlation-between-inr-values-of-different-currencies/" />

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://www.tutysara.net/touch-icon-144-precomposed.png">
<link href="http://www.tutysara.net/favicon.png" rel="icon">

<meta name="generator" content="Hugo 0.17-DEV" />

  <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->



    <link rel="stylesheet" href="http://www.tutysara.net/css/bootswatch/default/bootstrap.min.css">


<link rel="stylesheet" href="http://www.tutysara.net/css/font-awesome.min.css">
<link rel="stylesheet" href="http://www.tutysara.net/css/style.css">


  <link rel="stylesheet" href="http://www.tutysara.net/css/highlight/github.css">


</head>
<body>
    <header id="main-header">
    <nav class="navbar navbar-default navbar-fixed-top" style="background-color: white;">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.tutysara.net/">TUTYSARA&#39;S SPACE</a>
      </div>
      <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
              
              
              <li>

                  <a href="http://www.tutysara.net/about"
                     >

                      
                      <i class="fa fa-info-circle"></i>
                      

                      About
                  </a>
              </li>
              
              
              
              
              
              
              
              
          </ul>
          <ul class="nav navbar-nav navbar-right">
              <li>
                  <form class="navbar-form" role="search" action="http://www.google.com/search" method="get">
                      <div class="input-group">
                          <input class="form-control" type="search" placeholder="Search..." name="q" id="search">
                          <input value="http://www.tutysara.net" name="sitesearch" type="hidden">
                      </div>
                  </form>
              </li>
            
            
          
            
          <li>

            <a href="http://www.tutysara.net/post"
             title="Show list of posts">

            

            Posts
            </a>
          </li>
          
          
            
          <li>

            <a href="http://www.tutysara.net/tags"
             title="Show list of tags">

            

            Tags
            </a>
          </li>
          
          
            
          <li>

            <a href="http://www.tutysara.net/index.xml"
            >

            
                <i class="fa fa-rss"></i>
            

            Feeds
            </a>
          </li>
          
          
        </ul>
      </div>
      
    </div>
  </nav>

</header>


<div class="container">
  <div class="row">
    <div class="col-sm-10">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  <div class="text-center">

    <h1 style="color: #337ab7;">Correlation between INR values of different currencies
</h1>

    <div class="metas">
<small>
  <i class="fa fa-calendar"></i>
  <time datetime="2012-10-05">5 Oct, 2012</time>
</small>


  <small>
  &middot; Read in about 2 min
  &middot; (391 Words)
</small>


<div class="margin-10">
  <i class="fa fa-tags"></i>
  
  <a href="http://www.tutysara.net/tags/data" class="label label-primary">data</a>
  
  <a href="http://www.tutysara.net/tags/clojure" class="label label-primary">clojure</a>
  


</div>
<br>
</div>

  </div>
</div>

      <div class="content">
  <article comments="1">
  <title>Correlation between INR values of different currencies</title>
  <date>2012-09-05 11:31</date>
  <tags>
    <tag>data</tag>
    <tag>clojure</tag>
  </tags>
</article>

<p><summary>
  <p>
  This is an interesting take away example from the class
   which <a href="http://www.s-anand.net/">Anand</a> is teaching at
   NIAS.
Here we are trying to correlate between the INR values of various
   currencies like AUD, CNY (Chinese Yen), EUR, GBP (Great Britain
   Pound), JPY, SGD, USD and find the positive or negative
   correlations. The focus is on data collection and transformation.
  </p>
</summary></p>

<p><section>
  <p>
    The first part is the identification of a proper source to get the
    data. <a href="http://www.oanda.com">oanda.com</a> is one such source
    from which historic currency exchange rates can be obtained.
  </p>
  <p>
    The next part is the development of an automated/easy way of obtaining
    the data from the site, suitable for transformation. With some
    help from develpment tools in the browser the url of the
    download link can be found.
    It looks something like
    <br/></p>

<pre><code>&lt;script src=&quot;https://gist.github.com/3638650.js?file=data2_url.sh&quot;&gt;&lt;/script&gt;
&lt;br/&gt;
Here we can find that SGD is the currency that is being used, with
little exprimentation it can be found that we can download data
for other currencies by altering this URL (example - replace SGD
with JPY for downloading data for Japanese yen)
</code></pre>

<p></P>
  <p>
    The next is the transformation part, the downloaded csv files
    contains data that are not required for further analysis that
    should be filtered to get the required data. In this case we have
    to filter the first 5 lines, that is done by using <code>tail -n +6</code>,
    which prints starting from the 6th line and we have to also filter
    the last 4 lines and this is done by using <code> head -n -4</code>, which
    prints all lines but the last 4 lines.
  </p>
  <p>
    We also combine the data and make a single csv file containing data of all currencies
    for easy consumption, this can be done using
  <p>
    <code>
    paste AUD.csv CNY.csv EUR.csv GBP.csv JPY.csv SGD.csv USD.csv |sed
    &rsquo;s/\t/,/g&rsquo;&gt;alldata.csv
    </code>
  </p>
  <p>
    The complete code for the steps so far
    <br/>
    <code>
      <script src="https://gist.github.com/3638103.js?file=gistfile1.sh"></script>
    </code>
  </P>
  <p>
    The next step is the visualization, The choice of tools for
    visualization is left open, I prefer clojure with incanter.
    Here is the clojure snippet
  </p>
  <p>
    load the data<br />
    <code>
     <script src="https://gist.github.com/3638130.js?file=data2_currency_read_data.clj"></script>
    </code>
    plot it
    <code>
     <script src="https://gist.github.com/3638148.js?file=blog_data2_unnormalized_plot.clj"></script>
    </code>
  </p>
  <p>
    Here is how it looks -
    <br/>
    <a href="http://www.flickr.com/photos/86708945@N08/7937082534/"
    title="data2_currency_correlation_notnormalized by tutysara, on
    Flickr"><img src="http://farm9.staticflickr.com/8299/7937082534_5b636f6671.jpg"
    width="500" height="400"
    alt="data2_currency_correlation_notnormalized"></a>
  </p>
  <p>
    It can be found that it is difficult to compare data on different
    scales, normalization helps us in this case (data-mean/mean)
    <br/>
    Here is a function to normalize data
  <p>
    <script src="https://gist.github.com/3638406.js?file=data2_currency_normalize_data.clj"></script>
  </P>
  <p>
    and the plot is updated to show the normalized data
    <code>
    <script src="https://gist.github.com/3638436.js?file=data2_currency_normalize_plot.clj"></script>
    </code>
  </P>
  <p>
    Here is how it looks
    <br/>
    <a href="http://www.flickr.com/photos/86708945@N08/7937082716/"
    title="data2_currency_correlation_normalized by tutysara, on
    Flickr"><img src="http://farm9.staticflickr.com/8446/7937082716_e8134a87d4.jpg"
    width="500" height="353"
    alt="data2_currency_correlation_normalized"></a>
  </p>
  <p>
    the complete code
    <code>
<script src="https://gist.github.com/3638556.js?file=blog_data2_complete_code.clj"></script>
    </code>
  </p>
 <section></p>

</div>


      <footer>
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      
  
    <nav><ul class="pager">
    
        <li class="previous">
          <a href="http://www.tutysara.net/posts/2012/09/02/started-blogging-from-a-new-place/" title="Started blogging from a new place">
            <span aria-hidden="true">&larr;</span>Previous
          </a>
        </li>
    

    
      <li class="next">
        <a href="http://www.tutysara.net/posts/2013/10/18/setting-up-a--new-vps-server/" title="Setting up a  new VPS server">
            Next <span aria-hidden="true">&rarr;</span>
        </a>
      </li>
    
    </ul> </nav>
  


</div>

  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  
<div id="disqus_thread"></div>
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//tutysarablog.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


</div>

</footer>

    </div>
    
      <div class="col-sm-2">
        <div>
    

    <div class="section taxonomies well">
        <div class="list-group-item-heading">
            <b>
                <i class="fa fa-tags fa-lg" aria-hidden="true"></i>
                Social
            </b>
        </div>
        <ul class="list-group">
            
            <li class="list-group-item">
                <a id="contact-link-github" class="contact_link" href="https://www.twitter.com/tutysara">
                    <span class="fa fa-twitter fa-lg"></span><span class="pull-right">@tutysara</span></a>
            </li>
            
            
            <li class="list-group-item">
                <a id="contact-link-github" class="contact_link" href="https://github.com/tutysara">
                    <span class="fa fa-github fa-lg"></span><span class="pull-right">github</span></a>
            </li>
            
            
            <li class="list-group-item">
                <a id="contact-link-github" class="contact_link" href="https://github.com/tutysara">
                    <span class="fa fa-google-plus fa-lg"></span><span class="pull-right">+tutysara</span></a>
            </li>
            
        </ul>
    </div>

    
    
    
    <div class="section taxonomies well">
        <header>
            <div class="title list-group-item-heading">
                <b>
                    <i class="fa fa-tags fa-lg" aria-hidden="true"></i>
                    Popular Tags
                </b>
            </div>
        </header>

        <div class="content">
            <ul class="list-group">
                
                <li class="list-group-item">
                    <a href="http://www.tutysara.net/tags/self-notes">
                        self-notes<span class="badge pull-right"> 5</span>
                    </a>
                </li>
                
                <li class="list-group-item">
                    <a href="http://www.tutysara.net/tags/clojure">
                        clojure<span class="badge pull-right"> 1</span>
                    </a>
                </li>
                
                <li class="list-group-item">
                    <a href="http://www.tutysara.net/tags/data">
                        data<span class="badge pull-right"> 1</span>
                    </a>
                </li>
                
                <li class="list-group-item">
                    <a href="http://www.tutysara.net/tags/django">
                        django<span class="badge pull-right"> 1</span>
                    </a>
                </li>
                
                <li class="list-group-item">
                    <a href="http://www.tutysara.net/tags/emacs">
                        emacs<span class="badge pull-right"> 1</span>
                    </a>
                </li>
                
                <li class="list-group-item">
                    <a href="http://www.tutysara.net/tags/general">
                        general<span class="badge pull-right"> 1</span>
                    </a>
                </li>
                
                <li class="list-group-item">
                    <a href="http://www.tutysara.net/tags/github">
                        github<span class="badge pull-right"> 1</span>
                    </a>
                </li>
                
                <li class="list-group-item">
                    <a href="http://www.tutysara.net/tags/hugo">
                        hugo<span class="badge pull-right"> 1</span>
                    </a>
                </li>
                
                <li class="list-group-item">
                    <a href="http://www.tutysara.net/tags/python">
                        python<span class="badge pull-right"> 1</span>
                    </a>
                </li>
                
                <li class="list-group-item">
                    <a href="http://www.tutysara.net/tags/tech">
                        tech<span class="badge pull-right"> 1</span>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
    
    
    
    
    <div class="section taxonomies well">
        <header>
            <div class="title list-group-item-heading">
                <b>
                    <i class="fa fa-tags fa-lg" aria-hidden="true"></i>
                    Popular Topics
                </b>
            </div>
        </header>

        <div class="content">
            <ul class="list-group">
                
                <li class="list-group-item">
                    <a href="http://www.tutysara.net/topics/topic-1">
                        topic-1<span class="badge pull-right"> 1</span>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
    
    

</div>

      </div>
    
  </div>
</div>
      
<footer class="footer hidden-print">
  <div class="container">
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
          <p>
           <div class="pull-left">
  <a class="toplink" href="#">back to top</a>
</div>
<div class="pull-right">
  
</div>

         </p>
        </div>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">
          <small>
              
    
<div class="container footline">
  
  coded with <i class='fa fa-heart'></i> using <a href='http://gohugo.io/hugo'>hugo</a> and heavily customized hugo-bootstrap theme


</div>


    
<div class="container copyright">
  
  &copy; 2016 tutysara


</div>



          </small>
        </div>
    </div>
  </div>
</footer>

    <script src="http://www.tutysara.net/js/jquery.min.js"></script>
<script src="http://www.tutysara.net/js/bootstrap.min.js"></script>



<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//tutysarablog.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="http://www.tutysara.net/js/highlight.pack.js"></script>
<script src="http://www.tutysara.net/js/site.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


<script>
  var _gaq=[['_setAccount','UA-34510369-1'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>


  </body>
</html>

